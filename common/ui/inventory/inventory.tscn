[gd_scene load_steps=11 format=3 uid="uid://cr7b114sxwa1o"]

[ext_resource type="Script" uid="uid://h73hldxs0qkk" path="res://common/ui/inventory/inventory.gd" id="1_b3is5"]
[ext_resource type="Texture2D" uid="uid://dsemsi4cgy3to" path="res://common/ui/inventory/assets/toggle_base.png" id="1_ev2c5"]
[ext_resource type="Texture2D" uid="uid://cp00i17lp0qv5" path="res://common/ui/inventory/assets/expand.png" id="2_b3is5"]
[ext_resource type="Shader" uid="uid://bqb75j0d5opfs" path="res://common/shaders/white_outline.gdshader" id="3_gc5rp"]
[ext_resource type="Texture2D" uid="uid://ckh8oyuivt84q" path="res://common/ui/inventory/assets/row.png" id="3_tvadw"]
[ext_resource type="PackedScene" uid="uid://bcdbfym62drmv" path="res://common/ui/inventory/mineral_counter/mineral_counter.tscn" id="5_tvadw"]

[sub_resource type="Shader" id="Shader_gc5rp"]
code = "shader_type canvas_item;

uniform float alpha_value : hint_range(0.0, 1.0) = 1;

void fragment() {
	vec4 texture_color = texture(TEXTURE, UV);
	COLOR = texture_color;
	COLOR.a = alpha_value;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ui1sp"]
shader = SubResource("Shader_gc5rp")
shader_parameter/alpha_value = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_muyhv"]
shader = ExtResource("3_gc5rp")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 0.0
shader_parameter/pattern = 0
shader_parameter/inside = false
shader_parameter/add_margins = true

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gc5rp"]
size = Vector2(70, 43)

[node name="Inventory" type="Area2D"]
material = SubResource("ShaderMaterial_ui1sp")
script = ExtResource("1_b3is5")

[node name="Base" type="Sprite2D" parent="."]
position = Vector2(35, 32)
texture = ExtResource("1_ev2c5")

[node name="ToggleDisplay" type="TextureButton" parent="Base"]
material = SubResource("ShaderMaterial_muyhv")
offset_left = -28.0
offset_top = -10.0
offset_right = 25.0
offset_bottom = 4.0
texture_normal = ExtResource("2_b3is5")
metadata/_edit_use_anchors_ = true

[node name="Row" type="Sprite2D" parent="."]
position = Vector2(35, 10)
texture = ExtResource("3_tvadw")

[node name="MineralCounter" parent="Row" instance=ExtResource("5_tvadw")]
position = Vector2(-14, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(35, 21.5)
shape = SubResource("RectangleShape2D_gc5rp")

[connection signal="mouse_entered" from="." to="." method="_on_mouse_entered"]
[connection signal="mouse_exited" from="." to="." method="_on_mouse_exited"]
[connection signal="mouse_entered" from="Base/ToggleDisplay" to="." method="_on_toggle_display_mouse_entered"]
[connection signal="mouse_exited" from="Base/ToggleDisplay" to="." method="_on_toggle_display_mouse_exited"]
[connection signal="pressed" from="Base/ToggleDisplay" to="." method="_on_toggle_display_pressed"]
