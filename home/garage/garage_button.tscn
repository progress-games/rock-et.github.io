[gd_scene load_steps=5 format=3 uid="uid://b8cb64ock65sf"]

[ext_resource type="Texture2D" uid="uid://dhcyaskdu5s33" path="res://home/garage/garage.png" id="1_jceud"]
[ext_resource type="Shader" uid="uid://bqb75j0d5opfs" path="res://common/shaders/white_outline.gdshader" id="2_6thhw"]

[sub_resource type="GDScript" id="GDScript_2rhwr"]
script/source = "extends Area2D

@onready var sprite: Sprite2D = $Sprite2D

func _on_mouse_entered() -> void:
	sprite.material.set_shader_parameter(\"width\", 1)
	GameManager.hovering_button.emit()

func _on_mouse_exited() -> void:
	sprite.material.set_shader_parameter(\"width\", 0)

func _on_input_event(_viewport: Node, event: InputEvent, _shape_idx: int) -> void:
	if event is InputEventMouseButton and event.is_pressed() and event.button_index == MOUSE_BUTTON_LEFT:
		GameManager.state_changed.emit(GameManager.State.GARAGE)
		AudioManager.create_audio(SoundEffect.SOUND_EFFECT_TYPE.SWOOSH)
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3yerp"]
shader = ExtResource("2_6thhw")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 0.0
shader_parameter/pattern = 0
shader_parameter/inside = false
shader_parameter/add_margins = true

[node name="Garage" type="Area2D"]
script = SubResource("GDScript_2rhwr")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(-37, -20, 20, -44, 20, -44, 25, -42, 33, -28, 41, -25, 42, 7, 8, 20, 9, 29, -15, 46, -18, 44, -18, 35, -40, 27, -41, 11, -38, 9)

[node name="Sprite2D" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_3yerp")
texture = ExtResource("1_jceud")

[connection signal="mouse_entered" from="." to="." method="_on_mouse_entered"]
[connection signal="mouse_exited" from="." to="." method="_on_mouse_exited"]
