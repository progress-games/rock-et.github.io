[gd_scene load_steps=29 format=3 uid="uid://caflix1epxvyf"]

[ext_resource type="Script" uid="uid://u1ehm4erfg56" path="res://home/home.gd" id="1_j7a05"]
[ext_resource type="Texture2D" uid="uid://buiubypq58rnu" path="res://home/background1.png" id="2_mquvk"]
[ext_resource type="Script" uid="uid://hao3h4hbdhxn" path="res://common/camera/main_camera.gd" id="3_w445g"]
[ext_resource type="PackedScene" uid="uid://cr7b114sxwa1o" path="res://common/ui/inventory/inventory.tscn" id="4_5l8su"]
[ext_resource type="PackedScene" uid="uid://d241itq61pmfd" path="res://mission/ui/fuel_left/fuel_bar.tscn" id="5_ybqds"]
[ext_resource type="PackedScene" uid="uid://b8cb64ock65sf" path="res://home/garage/garage_button.tscn" id="6_3jkbj"]
[ext_resource type="Script" uid="uid://du0x1srylkjih" path="res://mission/ui/fuel_left/fuel_bar.gd" id="6_xmqgs"]
[ext_resource type="PackedScene" uid="uid://cvoyf0mipkxcf" path="res://home/embark/embark_button.tscn" id="7_6s48o"]
[ext_resource type="Shader" uid="uid://7k8808qqc0nc" path="res://common/shaders/remove_antialising.gdshader" id="7_xmqgs"]
[ext_resource type="PackedScene" uid="uid://cbqwbmo6223lc" path="res://home/lab/lab_button.tscn" id="8_jicjg"]
[ext_resource type="FontFile" uid="uid://csdy5bm6finb1" path="res://common/fonts/BitPap.ttf" id="9_xq6be"]
[ext_resource type="Script" uid="uid://tdcf6r2hpp0v" path="res://common/debug/add_minerals.gd" id="10_3js4x"]
[ext_resource type="PackedScene" uid="uid://dq15imlhexc2q" path="res://mission/ui/new mineral/new_mineral.tscn" id="10_38egu"]
[ext_resource type="Texture2D" uid="uid://fo3p7kykbycr" path="res://common/ui/mouse/default.png" id="11_wth1u"]
[ext_resource type="Script" uid="uid://b58xts1ubn8l8" path="res://common/ui/mouse/mouse.gd" id="12_8q2i8"]
[ext_resource type="PackedScene" uid="uid://brwlbko4b05bo" path="res://garage/garage.tscn" id="12_rx7t6"]
[ext_resource type="Script" uid="uid://cenidrf8wxbl6" path="res://common/ui/open_tab.gd" id="13_13as4"]
[ext_resource type="Shader" uid="uid://cu1c851n2s1dc" path="res://common/shaders/hold_mouse.gdshader" id="13_o13v6"]
[ext_resource type="Texture2D" uid="uid://3e1k6vxqmxjf" path="res://common/ui/mouse/hitbox.png" id="14_2adkn"]
[ext_resource type="Script" uid="uid://c8a36ucdbwkx1" path="res://home/state_button.gd" id="14_8q2i8"]
[ext_resource type="PackedScene" uid="uid://8ne0qmc4djhu" path="res://lab/lab.tscn" id="14_sa0j7"]
[ext_resource type="Shader" uid="uid://b2uvywk7hemci" path="res://common/shaders/hit_bar.gdshader" id="15_mquvk"]
[ext_resource type="Script" uid="uid://6l83lmpxses8" path="res://common/ui/mouse/hit_bar.gd" id="16_ua3a1"]
[ext_resource type="PackedScene" uid="uid://bc3oo513bmmoi" path="res://home/game_complete.tscn" id="16_y3sm1"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xmqgs"]
shader = ExtResource("7_xmqgs")
shader_parameter/colour = Color(0, 0, 0, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mquvk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2adkn"]
shader = ExtResource("13_o13v6")
shader_parameter/progress = 0.786
shader_parameter/radius = 0.5
shader_parameter/inner = 0.315
shader_parameter/centre = Vector2(0.5, 0.5)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vwkex"]
shader = ExtResource("15_mquvk")
shader_parameter/progress = 0.43
shader_parameter/colours = PackedColorArray(1, 0, 0, 1, 0.898922, 0.440881, 0.164583, 1, 0, 1, 0, 1, 0.470344, 0.640013, 0.999999, 1)
shader_parameter/thresholds = PackedFloat32Array(0, 0.3, 0.6, 0.9)

[node name="Game" type="Node2D"]
script = ExtResource("1_j7a05")

[node name="Background" type="Sprite2D" parent="."]
z_index = -99
position = Vector2(160, 630)
texture = ExtResource("2_mquvk")

[node name="MainCamera" type="Camera2D" parent="."]
z_index = 3
position = Vector2(160, 1170)
script = ExtResource("3_w445g")

[node name="Minerals" type="Node" parent="MainCamera"]

[node name="Inventory" parent="MainCamera" instance=ExtResource("4_5l8su")]
z_index = 3
position = Vector2(-160, -90)

[node name="FuelBar" parent="MainCamera" instance=ExtResource("5_ybqds")]
z_index = -86
offset_left = 119.0
offset_top = -89.0
offset_right = 159.0
offset_bottom = -49.0
script = ExtResource("6_xmqgs")

[node name="DayCount" type="Label" parent="MainCamera"]
material = SubResource("ShaderMaterial_xmqgs")
offset_left = 109.0
offset_top = -86.0
offset_right = 140.0
offset_bottom = -70.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 1
theme_override_fonts/font = ExtResource("9_xq6be")
text = "day 0"

[node name="GameComplete" parent="MainCamera" instance=ExtResource("16_y3sm1")]
visible = false
offset_left = -146.0
offset_top = -79.0
offset_right = 145.0
offset_bottom = 79.0

[node name="NewMineral" parent="MainCamera" instance=ExtResource("10_38egu")]
visible = false
z_index = 5

[node name="UI" type="Node" parent="."]

[node name="Garage" parent="UI" instance=ExtResource("6_3jkbj")]
position = Vector2(41, 1180)
script = ExtResource("14_8q2i8")
state = 2
sound_effect = 3

[node name="Embark" parent="UI" instance=ExtResource("7_6s48o")]
position = Vector2(165, 1134)
script = ExtResource("14_8q2i8")
state = 1
sound_effect = 4

[node name="Upgrades" type="HFlowContainer" parent="UI"]
visible = false
anchors_preset = -1
anchor_left = 0.115625
anchor_top = 0.0777778
anchor_right = 0.115625
anchor_bottom = 0.0777778
offset_left = 150.0
offset_top = 1092.0
offset_right = 307.0
offset_bottom = 1238.0
alignment = 1
metadata/_edit_use_anchors_ = true

[node name="Lab" parent="UI" instance=ExtResource("8_jicjg")]
position = Vector2(246, 1160)
script = ExtResource("14_8q2i8")
state = 3
sound_effect = 3

[node name="Debug" type="VBoxContainer" parent="."]
visible = false
offset_left = 225.0
offset_top = 1080.0
offset_right = 320.0
offset_bottom = 1132.0

[node name="AddMineral" type="Button" parent="Debug"]
layout_mode = 2
theme_override_fonts/font = ExtResource("9_xq6be")
text = "add 1 mineral"
script = ExtResource("10_3js4x")
amount = 1

[node name="Add10Mineral" type="Button" parent="Debug"]
layout_mode = 2
theme_override_fonts/font = ExtResource("9_xq6be")
text = "add 10 minerals"
script = ExtResource("10_3js4x")
amount = 10

[node name="Add100Mineral" type="Button" parent="Debug"]
layout_mode = 2
theme_override_fonts/font = ExtResource("9_xq6be")
text = "add 100 minerals"
script = ExtResource("10_3js4x")
amount = 100

[node name="Garage" parent="." instance=ExtResource("12_rx7t6")]
z_index = 2
position = Vector2(-326, 1080)
script = ExtResource("13_13as4")
listening_state = 2
default_target = -320.0

[node name="Lab" parent="." instance=ExtResource("14_sa0j7")]
z_index = 2
position = Vector2(320, 1080)

[node name="Mouse" type="Area2D" parent="."]
z_index = 545
script = ExtResource("12_8q2i8")

[node name="Sprite" type="Sprite2D" parent="Mouse"]
texture = ExtResource("11_wth1u")

[node name="CollisionShape" type="CollisionShape2D" parent="Mouse"]
shape = SubResource("RectangleShape2D_mquvk")

[node name="ColorRect" type="ColorRect" parent="Mouse"]
z_index = 145
material = SubResource("ShaderMaterial_2adkn")
offset_left = -6.0
offset_top = -6.0
offset_right = 6.0
offset_bottom = 6.0
rotation = 4.71239
scale = Vector2(2, 2)
pivot_offset = Vector2(6, 6)

[node name="Corners" type="Node2D" parent="Mouse"]

[node name="TopLeft" type="Sprite2D" parent="Mouse/Corners"]
position = Vector2(-16, -16)
scale = Vector2(0.35, 0.35)
texture = ExtResource("14_2adkn")
offset = Vector2(6, 6)

[node name="TopRight" type="Sprite2D" parent="Mouse/Corners"]
position = Vector2(16, -16)
scale = Vector2(0.35, 0.35)
texture = ExtResource("14_2adkn")
offset = Vector2(-6, 6)
flip_h = true

[node name="BottomRight" type="Sprite2D" parent="Mouse/Corners"]
position = Vector2(16, 16)
scale = Vector2(0.35, 0.35)
texture = ExtResource("14_2adkn")
offset = Vector2(-6, -6)
flip_h = true
flip_v = true

[node name="BottomLeft" type="Sprite2D" parent="Mouse/Corners"]
position = Vector2(-16, 16)
scale = Vector2(0.35, 0.35)
texture = ExtResource("14_2adkn")
offset = Vector2(6, -6)
flip_v = true

[node name="HitBar" type="ColorRect" parent="Mouse"]
visible = false
material = SubResource("ShaderMaterial_vwkex")
offset_left = -26.0
offset_top = -31.0
offset_right = 27.0
offset_bottom = -22.0
script = ExtResource("16_ua3a1")

[connection signal="visibility_changed" from="MainCamera/NewMineral" to="MainCamera/NewMineral" method="_on_visibility_changed"]
[connection signal="input_event" from="UI/Garage" to="UI/Garage" method="_on_input_event"]
[connection signal="pressed" from="Debug/AddMineral" to="Debug/AddMineral" method="_on_pressed"]
[connection signal="pressed" from="Debug/Add10Mineral" to="Debug/Add10Mineral" method="_on_pressed"]
[connection signal="pressed" from="Debug/Add100Mineral" to="Debug/Add100Mineral" method="_on_pressed"]
[connection signal="body_entered" from="Mouse" to="Mouse" method="_on_body_entered"]
[connection signal="body_exited" from="Mouse" to="Mouse" method="_on_body_exited"]
[connection signal="input_event" from="Mouse" to="Mouse" method="_on_input_event"]
